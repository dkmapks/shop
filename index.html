<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zamów Legalny Skun</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #fff;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
    }

    h1 {
      color: #00ff99;
    }

    label, input, select, textarea {
      display: block;
      width: 100%;
      margin-top: 1rem;
    }

    input, select, textarea {
      padding: 0.8rem;
      background-color: #1e1e1e;
      color: #fff;
      border: none;
      border-radius: 5px;
    }

    button {
      margin-top: 1.5rem;
      padding: 1rem;
      background-color: #00cc88;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .summary {
      margin-top: 1rem;
      padding: 1rem;
      background-color: #1e1e1e;
      border-left: 4px solid #00cc88;
    }

    .info {
      margin-top: 2rem;
      font-size: 0.95rem;
      color: #ccc;
    }

    a {
      color: #00ffcc;
    }
  </style>
</head>
<body>

  <h1>Zamów Legalny Skun</h1>

  <form action="https://getform.io/f/akkyqmqa" method="POST" id="orderForm">
    <label for="discord">Nick z Discorda:</label>
    <input type="text" name="discord" id="discord" placeholder="np. twojanick#1234" required />

    <label for="email">Email:</label>
    <input type="email" name="email" id="email" required />

    <label for="grams">Ilość gramów:</label>
    <input type="number" name="grams" id="grams" min="1" max="20" required />

    <label for="shipping">Wybierz sposób dostawy:</label>
    <select name="shipping" id="shipping" required>
      <option value="">-- wybierz --</option>
      <option value="inpost">InPost (16.99 zł)</option>
      <option value="dhl">DHL (9.90 zł)</option>
    </select>

    <label for="address">Adres dostawy / Paczkomat:</label>
    <textarea name="address" id="address" placeholder="np. InPost WAW01A, Warszawa" required></textarea>

    <div class="summary" id="priceSummary">
      Wpisz dane powyżej, aby zobaczyć podsumowanie.
    </div>

    <!-- Ukryte dane do przesłania w mailu -->
    <input type="hidden" name="order_id" value="ZAM-800045" />
    <input type="hidden" name="price_per_gram" id="price_per_gram" />
    <input type="hidden" name="shipping_cost" id="shipping_cost" />
    <input type="hidden" name="total_cost" id="total_cost" />

    <button type="submit">Wyślij zamówienie</button>
  </form>

  <div class="info" id="paymentInfo" style="display:none;">
    <h3>Płatność BLIK i proces zamówienia</h3>

    <p>Aktualnie obsługujemy płatności wyłącznie poprzez <strong>BLIK</strong>.  
    Metoda ta pozwala zachować prostotę i bezpieczeństwo.  
    W przyszłości planujemy wdrożenie nowych opcji płatności — rozwój trwa!</p>

    <p>
      <strong>Jak przebiega zamówienie:</strong><br><br>
      <strong>1️⃣ Zamawiasz</strong> — wypełniasz formularz, podajesz email i dodajesz mnie na Discordzie  
      <br><br>
      <strong>2️⃣ Finalizacja</strong> — na Discordzie podajesz mi <strong>kod BLIK</strong> oraz dane do wysyłki  
      (np. paczkomat InPost lub adres DHL). Wysyłasz jakby "do siebie" — w trosce o <strong>wspólne bezpieczeństwo</strong>  
      <br><br>
      <strong>3️⃣ Wysyłka</strong> — do 24h od potwierdzenia przelewu nadaję paczkę. Czekasz na produkt  
      <br><br>
      <strong>4️⃣ Wsparcie</strong> — obsługa klienta dostępna codziennie w godzinach: <strong>8:00–20:00</strong>
    </p>

    <p>
      W razie pytań, dołącz do Discorda:<br>
      <a href="https://discord.gg/sCdeD8sR" target="_blank"><strong>Wejdź na Discord</strong></a>
    </p>
  </div>

  <script>
    const gramsInput = document.getElementById('grams');
    const shippingSelect = document.getElementById('shipping');
    const summaryBox = document.getElementById('priceSummary');
    const paymentInfo = document.getElementById('paymentInfo');

    const pricePerGramField = document.getElementById('price_per_gram');
    const shippingCostField = document.getElementById('shipping_cost');
    const totalCostField = document.getElementById('total_cost');

    function updateSummary() {
      const grams = parseInt(gramsInput.value, 10);
      const shipping = shippingSelect.value;

      if (!grams || !shipping || grams <= 0 || grams > 20) {
        summaryBox.textContent = "Wpisz poprawną ilość gramów i wybierz sposób dostawy.";
        paymentInfo.style.display = "none";
        return;
      }

      let pricePerGram = 0;
      let shippingCost = 0;

      if (shipping === "inpost") {
        shippingCost = 16.99;
        pricePerGram = grams < 20 ? 33 : 30;
      } else if (shipping === "dhl") {
        shippingCost = 9.90;
        pricePerGram = grams < 20 ? 40 : 35;
      }

      const total = grams * pricePerGram + shippingCost;

      summaryBox.innerHTML = `
        Cena za gram: <strong>${pricePerGram} zł</strong><br>
        Koszt wysyłki: <strong>${shippingCost.toFixed(2)} zł</strong><br>
        <strong>Do zapłaty: ${total.toFixed(2)} zł</strong>
      `;

      paymentInfo.style.display = "block";

      // Uzupełnianie ukrytych pól do maila
      pricePerGramField.value = pricePerGram + " zł";
      shippingCostField.value = shippingCost.toFixed(2) + " zł";
      totalCostField.value = total.toFixed(2) + " zł";
    }

    gramsInput.addEventListener('input', updateSummary);
    shippingSelect.addEventListener('change', updateSummary);
  </script>

</body>
</html>
